\documentclass{scrartcl}
\usepackage[a4paper, total={7in, 10in}]{geometry}
\usepackage{stmaryrd}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{algorithm2e}
\usepackage{hyperref}
\usepackage{comment}
\usepackage[french]{babel}
\usepackage{color}
\usepackage{tikz}
\usetikzlibrary{automata, arrows.meta, positioning}
\usepackage{MacrosArt}


\begin{document}

\title{Stage Map Graphs}

\author{José Lorgeré}

\maketitle

\begin{flushleft}

\section*{Introduction}

\section{Trucs généraux}

\subsection{Résultats et définitions préliminaires}

\begin{def*}[Carte]
    Une carte est une fonction $f : V \rightarrow \mathcal{P}(\mathbb{S}^2)$ telle que pour tout $v \in V$, $f(v)$
    est homéomorphe à $\mathbb{D}^2$ et telle que pour $v \neq u$, $f(u)$ et $f(v)$ sont d'intérieur disjoints. Si
    $f$ forme un recouvrement de $\mathbb{S}^2$, on la dira sans trou, ou complète. On appelera les $f(v)$ régions
\end{def*}

\begin{def*}[Graphe de carte]
    Un graphe $G = (V, E)$ est de carte s'il existe une carte $f$ sur $V$ telle que $xy \in E$ si et seulement si
    $f(x) \cap f(y) \neq \varnothing$
\end{def*}

\begin{theorem}[Caractérisation des graphes de carte]\label{carCarte}
    Un graphe $G = (V, E)$ est de carte si et seulement si il existe $H$ un graphe biparti planaire, de bipartition $V, U$,
    tel que $H^2[V] = G$. Un tel graphe $H$ est appelé graphe témoin de $G$
\end{theorem}

\begin{prop}
    Si $G$ est un graphe de carte, et $H = G[A]$ où $A \subset V$, alors $H$ est un graphe de carte
\end{prop}

\begin{proof}
    On reprend la carte de $G$ où l'on ne garde que les régions identifées aux sommets présents dans $A$
\end{proof}

\begin{def*}[Join]
    Le join de $2$ graphes $G = (V, E)$ et $G' = (V', E')$ est le graphe ayant pour sommet $V'' = V \cup V'$ et pour arrêtes
    \[ E'' = E \cup E' \cup \{ xx' \mid x \in V, x \in V' \} \]
    On notera pour tout $n \geq 1$ $K(n, G)$ le join d'un indépendant à $n$ sommets avec le graphe $G$
\end{def*}

\begin{prop}
    Soit $G$ un graphe à $3$ sommets. $K(3, G)$ n'est pas un graphe de carte
\end{prop}

\begin{proof}
    Supposons par l'absurde que $K(3, G)$ est un graphe de carte. On se donne alors $H$ vérifiant toutes les propriétés
    du théorème \ref{carCarte}. On note pour tout $v_i$, sommet indépendant de $K(3, G)$, $N_i$ son voisinage dans $H$
    incluant $v_i$. On note $H'$ le graphe $(((H / N_1) / N_2) / N_3)$, qui est donc un mineur de $H$ et donc planaire.
    Or $H' = K_{3,3}$ : en effet $N_i$ est adjacent à tout les sommets de $G$, comme le voisinage de $v_i$ dans $H$ l'est,
    car $v_i$ l'est dans $K(3, G)$. De plus il n'y a pas d'arrêtes entre les sommets de $G$ comme $H$ est biparti, et pas
    d'arrêtes entre les différents $N_i$ comme les $v_i$ sont indépendants dans $G$.\\
    Absurde, $K(3, G)$ n'est pas un graphe de carte
\end{proof}

Notons toutefois que $K(2, G)$ lui est un graphe de carte, et que le join de $2$ graphes à $3$ sommets tous deux non indépendants
est de carte également.

\begin{prop}
    $K_{2,2,2,2}$ n'est pas un graphe de carte
\end{prop}

\begin{proof}
    
\end{proof}

Notons que $K_{2,2,2}$ est toutefois un graphe de carte

\begin{def*}[Témoin compact]
    Un témoin compact est ...
\end{def*}

Dans l'article ... on a que l'existence d'un témoin compacte équivaut à l'existence d'un témoin de $G$. Ainsi on peut se restreindre
à l'étude de ces témoins particuliers

\begin{theorem}\label{complQuadr}
    Un graphe $G$ admet une carte complète si et seulement si il admet un témoin qui est une quadrangulation
\end{theorem}

On en déduit alors que les graphes admettant des cartes complètes sont $2$-connexes comme une quadrangulation l'est

\begin{def*}[Adjacence réelle]
    Pour $H = (V \cup U, E')$ un témoin de $G$, on définit l'adjacence réelle, $RA(x)$ d'un sommet $x \in V \cup U$ comme suit :
    \begin{itemize}
        \item Si $x \in V$, $RA(x) = \{x\}$
        \item Si $x \in U$, $RA(x) = N(x)$
    \end{itemize}
    On peut alors définir l'adjacence réelle $RA(S)$ d'un sous ensemble $S \subset V \cup U$ en faisant l'union sommet par sommet.
\end{def*}

\begin{comment}

\subsection{Contractibilité des arrêtes}

On aimerait donner une condition nécessaire et suffisante permettant de contracter les arrêtes d'un graphe de carte.
Certaines arrêtes sont clairement contractibles, comme celles représentées par $2$ régions partageant une courbe, d'autres ne le sont
pas, comme l'arrête $xy$ du graphe $G_{pch}$ \ref{Gpch}, qui est un graphe de carte.
On dénotera par $\mathcal{G}_{pch}$ l'ensemble des graphes obtenu depuis $G_{pch}$,
en ajoutant des arrêtes entre les sommets distincts de $a, b, c$

\begin{figure}[h]
    \caption{Le graphe $G_{pch}$}\label{Gpch}
    \begin{center}
        \begin{tikzpicture}[auto]
            \begin{scope}[every node/.style={circle, draw}]
                \node (a) {$a$};
                \node (b) [right = 20mm of a] {$b$};
                \node (c) [right = of b] {$c$};
                \node (x) [below left = 12mm and 5mm of a] {$x$};
                \node (y) [below right = 12mm and 5mm of a] {$y$};
                \node (u) [below = of b] {$u$};
                \node (v) [below = of c] {$v$};

                \node (a1) [right = 20mm of v] {$a$};
                \node (b1) [right = of a1] {$b$};
                \node (c1) [right = of b1] {$c$};
                \node (d1) [right = of c1] {$d$};
                \node (x1) [above = of a1] {$x$};
                \node (y1) [above = of b1] {$y$};
                \node (u1) [above = of c1] {$u$};
                \node (v1) [above = of d1] {$v$};
            \end{scope}

            \path
            (a) edge (x) edge (y) edge (u) edge (v)
            (b) edge (x) edge (u) edge (v)
            (c) edge (y) edge (u) edge (v)
            (x) edge (y) edge[bend right] (u)
            (y) edge (u)
            (x1) edge (y1) edge (a1) edge (b1) edge (c1)
            (y1) edge (a1) edge (b1) edge (d1)
            (u1) edge (a1) edge (c1) edge (d1)
            (v1) edge (b1) edge (c1) edge (d1)
            (a1) edge (b1);
        \end{tikzpicture}

    \end{center}
\end{figure}

Il sera utile de savoir contracter certaines arrêtes particulières des graphes de carte. Si $G$ est un graphe de carte
et $H$ un témoin de $G$, si l'arrête $xy$ est représentée par une des $2$ configurations de la figure \ref{IzEdge}, alors
on peut la contracter en maintenant $G$ de carte : pour la première il s'agit de deux contractions d'arrêtes dans un graphe
planaire, pour la deuxième, il suffit d'ajouter une arrête subdivisée entre $x$ et $y$ passant par l'intérieur de la face à laquelle
ces deux derniers sont adjacents pour obtenir un témoin de $G$ présentant le premier cas

\begin{figure}[h]
    \caption{Cas d'arrêtes dont la contraction laisse $G$ de carte}\label{IzEdge}
    \begin{center}
        Le deuxième cas se généralise à des cliques arbitrairement grandes, dès que $x$ et $y$ sont adjacents à une même face
        \\~\\
        \begin{tikzpicture}[auto]
            \begin{scope}[every node/.style={circle, draw}]
                \node (x1) {$x$};
                \node (x2) [right = 50mm of x1] {$x$};
            \end{scope}

            \begin{scope}[every node/.style={rectangle, draw, fill=black}]
                \node (u) [right = of x1] {$\0$};
                \node (v) [right = of x2] {$\0$};
            \end{scope}

            \begin{scope}[every node/.style={circle, draw}]
                \node (y1) [right = of u] {$y$};
                \node (y2) [above = of v] {$y$};
                \node (z) [below = of v] {$z$};
                \node (t) [right = of v] {$t$};
            \end{scope}

            \path
            (u) edge (x1) edge (y1)
            (v) edge (x2) edge (y2) edge (z) edge (t);
        \end{tikzpicture}

    \end{center}
\end{figure}

\begin{def*}[Arrête pincée]
    On appellera arrête pincée de $G$ toute arrête $xy$ telle qu'il existe un sous graphe induit de $G$ contenant $xy$ se contractant en
    $G_p \in \mathcal{G}_{pch}$, et telle que la contraction n'exploite pas les arrêtes du sous graphe induit par $x,y,a,u$.
\end{def*}


(Ouais jpense pas continuer à parler des arrêtes pincées c trop dur)

\begin{prop}
    Soit $G$ un graphe de carte et $xy \in E$. Si $xy$ n'est pas pincée, $G / xy$ est de carte
\end{prop}

\begin{proof}
    On raisonne par contraposée, supposons que $G / xy$ ne soit pas de carte. On se donne $H$ un témoin de $G$.
    $G / xy$ n'étant pas de carte, il n'admet pas de témoin. Si $xy$ est représentée dans $H$ par l'une des deux configurations
    de la figure \ref{IzEdge}, $G / xy$ admettrait un témoin ce qui n'est pas le cas. Notons $s$ le sommet faisant la liaison
    entre $x$ et $y$. On en déduit alors que $x, y$ ne sont pas dans la même face de $H$, donc $s$ est de degré au moins $4$,
    et il existe un cycle exploitant une arrête de la clique donnée par $s$, arrête que l'on notera $ua$, et contenant $x$
    en son intérieur sans perte de généralité
    \\~\\
    Si $x$ ne peut accéder à un sommet du cycle que par $s$, alors on peut placer $x$ et tout les sommets accessibles
    depuis ce dernier de manière à ce que $x$ et $y$ soient adjacents à une même face. On en déduit l'existence d'un deuxième
    cycle exploitant $s$ contenant $y$ en son intérieur, et de chemins reliant $x$ et $y$ à leurs cycles respectifs sans utiliser
    $s$. On peut même, pour simplifier, supposer que les deux cycles exploitent $ua$, en reliant les sommets adjacents à $s$ par
    une arrête subdivisée si ils sont adjacents à la même face, on obtient un témoin de $G$ dans lequel on peut agrandir
    l'un des cycles afin d'utiliser $ua$.
    \\~\\
    On note $C_x$ le cycle bordant $x$ et $C_y$ celui bordant $y$. On note $C_{x, y}$ la partie commune de ces deux cycles.
    On choisit $C_x$ et $C_y$ de manière à minimiser le nombre de sommets de $C_{x,y}$ d'abord, puis ceux de $C_x$ et $C_y$.
    Cela implique, en particulier, qu'il n'existe pas de chemin disjoint de $C_x$ d'un sommet de $C_{x,y}$ à $C_x$, car
    cela contredirait la minimalité (cela vaut pour $y$ également). On en déduit que dans les chemins de $x$ à $C_x$ ne passant pas
    par $s$, dont l'existence a été montrée plus tôt, au moins un a pour destination un sommet hors de $C_{x,y}$, et de même pour $y$.
    Le cas contraire, on pourrait construire un témoin comme illustré figure ??.
    \\~\\
    On suppose dans un premier temps que $C_{x,y}$ est strictement plus grand que $\{u, s, a\}$. On suppose même, sans perte de généralité,
    que $a$ possède un voisin $q$ dans $C_{x,y}$ distinct de $s$. Cela implique qu'il existe un sommet $p \in V \cap C_{x,y}$, distinct de $u$
    et $a$, tel que $ap$ soit une arrête de $G$ : en effet si ce n'était pas le cas, les voisins de $q$ distincts de $a$
    dans $C_x$ ou $C_y$ ne seraient pas dans $C_{x, y}$. Soit $r$ un de ces voisins, supposons dans $C_x$.
    $r$ et $a$ sont adjacents à la même face : si ce n'est pas le cas, il existe alors un chemin de $q$ à un sommet du cycle contenant $r$
    séparant $r$ et $a$. On se donne alors $r'$ le voisin de $q$ sur ce chemin, et on réitère le processus jusqu'à obtenir un point $r^*$
    adjacent à la même face que $a$. Quitte à faire un bon choix de témoin initialement, on peut supposer que les sommets de $V$ formant
    une arrête et adjacents à une même face de $H$ sont reliés par une arrête subdivisée. Notons $q'$ le sommet entre $a$ et $r^*$.
    On peut alors construire un nouveau cycle contenant $x$ en exploitant les arrête $aq', q'r^*$ puis le chemin contenant $r^*$ et $C_x$.
    Ce cycle a une partie commune avec $C_y$ strictement plus petite que $C_{x,y}$, cela contredit la minimalité.
    \\~\\
    On distingue alors $2$ grands cas
    \begin{itemize}
        \item Si $zt$ n'est pas une arrête de $G$ : alors en considérant les sommets $a, z, t$ et $x, y, u, p$, on obtient par de bon
        choix de chemins des $a, z, t$ vers les $x, y, u, p$ un graphe se contractant de la manière voulue en un $G_p \in \mathcal{G}_{pch}$

        \item Si $zt$ est une arrête de $G$ : si il n'existe aucun autre chemin hors cycle de $C_x$ à $C_y$, le graphe $G / xy$
        est de carte, il en existe donc au moins un. 
    \end{itemize}
\end{proof}

On dira qu'une suite de contractions est sans pincement si elle n'exploite aucune arrête pincée

\begin{cor}
    Si $G$ a un sous graphe induit se contractant sans pincement en un $K(3, H)$, $G$ n'est pas de carte
\end{cor}

\end{comment}


\section{Etude des cartes complètes $3$-connexes}

\begin{def*}[Arrête contractible]
    Soit $G$ un graphe de carte. On dira que $xy \in E$ est contractible si il existe une carte de $G$ dans laquelle
    $x \cap y$ est un chemin simple.
\end{def*}

\begin{prop}
    Soit $G$ un graphe de carte et $xy \in E$ une arrête contractible. $G / xy$ est également un graphe de carte.
    De plus si la carte de $G$ est complète, celle de $G / xy$ l'est également
\end{prop}

\begin{proof}
    $x \cap y$ étant un chemin simple, on peut alors montrer que $x \cup y$ est homéomorphe à un disque (on peut par
    exemple dire que $x \cup y$ est l'intérieur du lacet simple obtenu en concaténant des parties des frontières de $x$ et $y$).
    Ainsi on a une carte de $G / xy$ donnée par la carte de $G$ restreinte à $V - \{x,y\}$ et où le sommet $xy$ est représenté
    par la région $x \cup y$.
\end{proof}

On souhaite à présent étudier plus en profondeur les graphes de carte $3$-connexe à carte complète afin de pouvoir plus facilement
distinguer les potentielles arrêtes contractibles par des critères combinatoires

\subsection{Cycles et voisinages}

\begin{prop}[Cycle séparant]\label{cyclSep}
    Soit $G$ $3$-connexe admettant une carte complète. Soit $v \in V$. Il existe un témoin compact quadrangulé $H$ de $G$ et
    un cycle $C$ tel que
    \begin{itemize}
        \item $RA(C) = N[v]$ (on considère ici les voisins dans $G$)
        \item L'intérieur de $C$ ne contient que $v$ et les seules arrêtes dans cet intérieur sont celles entre $v$ et
        les élements de $C \cap U$
    \end{itemize}
\end{prop}

\begin{proof}
    On se donne une carte complète de $G$. On ne s'intéressera ici qu'à la construction du témoin impliquant le voisinage de $v$,
    le reste du témoin pouvant être construit comme souhaité à partir de la carte complète grâce au théorème \ref{complQuadr}.
    \\~\\
    La région $v$ étant homéomorphe à un disque, on se donne
    $\gamma : [0, 1] \rightarrow \mathbb{S}^2$ un lacet simple paramétrant sa frontière. Quitte à reparamétrer, on admettra
    que l'on peut choisir $\gamma(0)$ tel qu'il soit point de rencontre d'au plus $2$ régions
    (et donc d'exactement $2$ comme la carte est complète), le graphe étant fini. Les mêmes arguments de finitude et
    le fait que la carte soit complète permettent d'affirmer qu'il existe $v_1 \in V$ tel que l'ensemble
    $I_1 = \{ t \in [0, 1] \mid \gamma([0, t]) \subset v_1 \}$ soit un intervalle non ponctuel. On note alors $t_1 = \sup(I_1) > 0$.
    On a que $t_1 < 1$ : en effet si $t_1 = 1$, alors $\gamma$ est un lacet inclus dans $u_1$, et l'on admettra que ce lacet
    n'est pas homotope à un point, ce qui est absurde comme $u_1$ est homéomorphe à un disque. En utilisant le même argument que
    celui donnant l'existence de $v_1$, et comme $t_1$ est maximal, on trouve un $v_2 \in V$ distinct de $v_1$ tel que l'ensemble
    suivant $I_2 = \{ t \in [t_1, 1] \mid \gamma([t_1, t]) \subset v_2\}$ soit un intervalle non ponctuel et on continue ce
    processus jusqu'à atteindre $1$. A noter que la dernière région considérée se trouve être $v_1$, comme $\gamma(0)$ n'est pas un
    point de rencontre de $3$ régions pour aller du dernier point, $\gamma(t_k)$, à $1$, il faut longer $v_1$ selon un chemin.
    On notera alors $v_1, ..., v_k$ les régions obtenues par ce processus, où $v_k$ est l'avant dernière région considérée.
    \\~\\
    Supposons que $v_i = v_j$ où $j > i$. Par construction, on a donc $j > i + 1$. Donc la région $v_i$ rencontre
    $v$ en au moins deux chemins. On a alors que $G - \{v, v_i\}$ n'est pas connexe, $v_{i+1}$ et $v_{j+1}$ sont séparés, absurde
    par $3$-connexité. Donc les $v_i$ sont tous distincts. On construit à présent le témoin.\\
    On place chaque sommet de $V$ à l'intérieur de la région lui correspondant. On ajoute les points $\gamma(t_i)$ au
    graphe, en les placant à leurs positions, et l'on relie $v$ à tout ces points par des chemins dans sa région. On relie
    également toutes les régions contenant un point $\gamma(t_i)$ à ce dernier par des chemins.\\
    On a ainsi obtenu un cycle vérifiant par construction la seconde propriété de l'énoncé. Pour la première, pour un sens,
    il suffit de voir que tout les sommets adjacents à des $\gamma(t_i)$ dans ce graphe sont des régions rencontrant $v$, donc des
    voisins. Réciproquement, un voisin de $v$ est soit un $v_i$, soit rencontre ponctuellement $v$ en un des $\gamma(t_i)$ : si un
    voisin de $v$ rencontre sa frontière en un point entre deux $\gamma(t_i)$ et $\gamma(t_{i+1})$, $v_i$ n'est pas homéomorphe à
    un disque. On a bien la première propriété\\
    Les sommets $\gamma(t_1), ..., \gamma(t_k)$, qui correspondront à des élements de $U$, sont tous utiles,
    et les faces présentes à l'intérieur du cycle sont bien bordées par $4$ arrêtes. On complète ensuite le graphe pour obtenir un
    témoin compact de $G$ quadrangulé
\end{proof}

\begin{cor}[Ordre cyclique]\label{ordCycl}
    Soit $G$ $3$-connexe admettant une carte complète et $v \in V$. Il existe un ordre total $v_1, ..., v_k$ sur les voisins de $v$
    induisant un cycle
\end{cor}

\begin{proof}
    On se donne un témoin $H$ vérifiant les propriétés de la proprosition \ref{cyclSep}. Soit $s_1, ..., s_{2l}$ le cycle dans $H$
    donné par cette proposition. On suppose sans perte de généralité que $s_1 \in V$. Pour tout $i$, on pose $E_i = \{s_i\}$
    si $i$ est impair, si $i$ est pair, $E_i$ correspond à l'ensemble des voisins de $s_i$ hors cycle, $v$ exclu. On ordonne alors $N(v)$
    comme suit : on ordonne chaque $E_i$ selon un ordre arbitraire. Puis on ordonne ces ordres arbitraires de sorte à ce que
    tout les élements de $E_i$ soient plus petits que ceux de $E_{i+1}$. Si un élement apparaît dans plusieurs $E_i$, on le placera avec
    le $E_i$ de plus petit indice auquel il appartient. Cet ordre est bien total sur $N(v)$
    comme $RA(\{s_1, ..., s_{2l}\}) = N[v]$. De plus ce dernier donne bien lieu à un cycle : en effet tout les sommets de $E_i$ sont
    adjacents aux sommets de $E_{i+1}$ (les indices étant pris modulo $2l$), et les $E_i$ pour $i$ pair sont des cliques.
\end{proof}

\subsection{Permutations de cycle et arrêtes contractibles}

Une inversion totale sur $n$ élements est la permutation suivante $ i \in \llbracket 1, n \rrbracket \longmapsto n - i + 1$,
les permutations cycliques sont les puissances du cycle $ i \in \llbracket 1, n \rrbracket \longmapsto (i+1 \mod n) + 1$.
Notons que ces permutations engendrent exactement les automorphismes du graphe $C_n$.\\
On appelera $\operatorname*{Iso}(C_n)$ l'ensemble des permutations sur $n$ élements quotientées par les automorphismes de
$C_n$, décrit plus tôt. On obtient alors un ensemble intéressant pour l'étude des cycles : on peut l'identifier
au quotient de l'ensemble des graphes sur les sommets $1, ..., n$ isomorphes à $C_n$ par la relation d'équivalence de différer
d'un automorphisme.

\begin{def*}[Permutations de cycle]
    Soit $n \geq 4$, et $C'_n$ un surgraphe à $n$ sommets de $C_n$, dont le cycle canonique sera numéroté $1, 2, ..., n$.
    On dira qu'une permutation $\sigma$ préserve les cycles si $\sigma(1), ..., \sigma(n)$ est également un cycle de $C'_n$.
    Une permutation de cycle est alors $[\sigma] \in \operatorname*{Iso}(C_n)$ telle que $\sigma$ préserve les cycles.
\end{def*}

La définition est bien cohérente car si $\sigma$ et $\sigma'$ sont équivalents, ils diffèrent d'un produit d'une inversion totale
et d'une permutation cyclique. Le cycle $\sigma(1), ..., \sigma(n)$ est préservé par inversion totale et permutation cyclique donc
$\sigma'(1), ..., \sigma'(n)$ est également un cycle.

\begin{def*}[Echange]
    Un échange de $i$ est une permutation de cycle $[\sigma]$ telle que, en notant $E$ l'ensemble des arrêtes de $C_n$,
    on ait $\sigma(i)\sigma(i+1) \notin E$ ou $\sigma(i-1)\sigma(i) \notin E$. Si le nombre d'échanges de $i$ est non nul,
    on le dira échangeable
\end{def*}

La définition est là encore indépendante du choix du représentant de $[\sigma]$ : si $\sigma'$ est équivalent à $\sigma$,
ils diffèrent par un automorphisme de $C_n$. Donc si $\sigma(i)\sigma(i+1) \notin E$, $\sigma'(i)\sigma'(i+1)$ également
\\~\\
Ce que l'on remarque en faisant les dessins : on se donne $v \in V$ dans un graphe de carte et on fixe un ordre
cyclique de $N(v)$ donné par le corollaire \ref{ordCycl}. On étudie ses permutations de cycle. On remarque que les sommets
$u$ non échangeables font de bons candidats pour que $uv$ soit contractible (à vraiment peu de choses près)

\subsection{Jsp encore}

\begin{prop}\label{ezDecontr}
    Soit $G$, $xy \in E$ une arrête. Supposons que $G / xy$ admette une carte complète et soit $3$-connexe. Soit $H$ un témoin compact
    quadrangulé de $G / xy$ donné par la proposition \ref{cyclSep}. Notons $s_1, ..., s_k$ le cycle séparant $xy$ du reste de $H$.
    Si les voisins de $x$ distincts de $y$ sont exactement $RA(\{s_i, ..., s_{i+l}\}) - x$ et ceux de $y$
    $RA(\{s_{i+l}, ..., s_{i-1}, s_i\}) - y$,
    où $i, l$ sont entiers et les indices sont vus modulo $k$, alors $G$ admet une carte complète
\end{prop}

\begin{proof}
    On construit la carte complète comme suit : on part de $H$, on retire $xy$ et on ajoute $x$ et $y$ à l'intérieur du cycle séparant.
    Ensuite, on relie $x$ à tout ses voisins de la manière suivante : si $s_j \in U$ et que les deux voisins de $s_j$ sur le cycle
    sont voisins de $x$, on ajoute une arrête entre $x$ et $s_j$.\\
    Si l'un des voisins de $s_j$ n'est pas voisin de $x$ et l'autre l'est,
    et que ce dernier n'a pas été pris en compte par l'étape précédente, c'est alors que $x$ n'a qu'un voisin sur le cycle par
    les conditions précédentes : si il en avait plus de deux, il aurait été possible de tous les couvrir en considérant les sommets
    de $U$ faisant la liaison. Dans ce cas, on relie $x$ à son voisin par deux arrêtes subdivisées, et on relie $y$ à chaque sommet
    joignant $x$ à son voisin.\\
    On effectue les mêmes étapes pour $y$. Si il n'existe aucun $s_j \in U$ tels que ses deux voisins sur le cycle soient également
    voisins de $x$ et $y$, cela signifie que $s_i$ et $s_{i+l}$ sont dans $V$. On ajoute alors deux sommet, $s$ et $s'$, l'un relié
    à $s_i, x, y$, l'autre à $s_{i+l}, x, y$. On obtient au final un témoin de $G$, compact et quadrangulé, donc $G$ admet une carte
    complète
\end{proof}

\section{Algorithmes}

L'algorithme de reconnaissance que l'on essaiera de développer est le suivant : on choisit une arrête "contractile" du graphe
(c'est à dire que, si le graphe est de carte, une arrête représentée par une intersection entre les deux régions formant
un chemin). C'est la partie la plus difficile et qui sera peut être facilitée par la restriction à des sous familles de graphe.
Ensuite, on teste si le graphe contracté est un graphe de carte sans trou. Après cela, on décontracte à l'aide de la définition
d'arrête contractile et de la proposition précédente
\\~\\
La dernière étape étant polynômiale, la polynômialité de l'algorithme dépend uniquement de celle du choix de l'arrête contractile.

\subsection{Cas des graphes d'intervalle}

Avant de passer aux cordaux, on va regarder plus simple avec les graphes d'intervalle. On va surabuser de l'existence d'un ordre
cyclique parmi les voisins de tout sommet de $G$ pour trouver des arrêtes contractiles très facilement

\section*{Annexe}

Pour tout les trucs à moitiés vrais et à moitié utiles


\begin{def*}[Arrête sans trou]
    On dit qu'une arrête $xy$ d'un graphe $G$ $3$-connexe est sans trou si elle vérifie l'une des deux conditions suivantes pour un certain
    $S \subsetneq \{x, y\}$ :
    \begin{itemize}
        \item Pour toute clique max $K$ de $G[N(x) \cap N(y)]$, si $G - (K \cup \{x,y\})$ n'est pas connexe, $G - (K \cup S)$ l'est aussi.
        \item Pour toute paire de cliques indépendantes maximales $K^1, K^2$ de $G[N(x) \cap N(y)]$, si $G - (K^1 \Delta K^2 \cup \{x,y\})$ n'est pas connexe,
        $G - (K^1 \Delta K^2 \cup S)$ l'est aussi, où $\Delta$ est la différence symétrique sur les sommets de $K^1$ et $K^2$
    \end{itemize}
\end{def*}

La définition est motivée par... le dessin qui n'est pas là
\\~\\
On considèrera par la suite que tout les graphes $G$ sont de carte, $3$-connexe, et admettent une carte complète

\begin{lem}\label{contrSanstrou}
    Soit $xy \in E$. Si $xy$ est sans trou, alors dans toute carte complète de $G$, l'arrête $xy$ est représentée par une adjacence
    connexe entre les deux régions, soit un chemin, soit un point
\end{lem}

\begin{proof}
    On se donne une carte complète de $G$ vérifiant ces conditions. Supposons par l'absurde que $x$ et $y$ ne se rencontrent pas en un ensemble connexe
    On raisonne selon la nature de $x \cap y$
    \\~\\
    Supposons cet ensemble discret, donc fini car compact. Notons alors ses points
    $u_1, ..., u_k$, $k \geq 2$ dans l'ordre cyclique selon la frontière de $x$. On construit alors $H$ un témoin compact quadrangulé de $G$
    à partir de cette carte, contenant les points $u_1, ..., u_k$ dont le voisinage correspond aux régions les contenant dans cette carte.\\
    Si $k \geq 4$, alors en retirant les cliques max suivantes : $K^1$ est l'ensemble des régions hors $x, y$ contenant $u_1$,
    $K^2$ celles contenant $u_k$. Notons alors que ce témoin contient un cycle, $x, u_1, y, u_k$, dont les sommets de $V$ à l'intérieur
    de ce dernier ne peuvent accéder à l'extérieur qu'en utilisant les points $u_1$ et $u_k$. De même les sommets de $K^1$ intérieurs
    à ce cycle ne peuvent se trouver dans $K^2$, car alors on aurait une arrête d'un sommet à l'intérieur du cycle $x, u_1, y, u_2$
    à $u_k$, ou à tous les sommets de $K^2$, qui sont tous à l'extérieur de ce cycle. En retirant $K^1 \Delta K^2 \cup \{x,y\}$, on sépare
    alors l'intérieur du cycle $x, u_2, y, u_3$ du reste du graphe. Cela n'est plus le cas si on ne retire que $x$ ou $y$, ainsi $xy$
    est à trou.\\
    S

    Si cet ensemble n'est pas discret, son nombre de composantes connexes étant fini par compacité, il est alors union disjointe de chemins
    et de points.\\
    Sinon : cet ensemble ne peut contenir $2$ chemins disjoints par $3$-connexité : en effet dans ce cas $G - \{x, y\}$ n'est pas connexe.
    Donc il contient un chemin et un point n'appartenant pas à ce dernier. On choisit alors un point $u_1$ dans l'intérieur du chemin (pas à une
    de ses éxtrémités) et on note $u_2$ un point de $x \cap y$ n'appartenant pas au chemin. On construit un témoin $H$ de la même manière que précédemment.
    L'intérieur du cycle $x, u_1, y, u_2$ contient un sommet de $V$ pour les mêmes raisons qu'auparavant, sauf qu'ici $u_1$ étant dans l'intérieur
    du chemin ne peut être adjacent à ce sommet. Notons $K$ la clique formée des sommets extérieurs à ce cycle, excepté $x$ et $y$, contenant le point $u_2$.
    $G - K$ est connexe, pour les mêmes raisons que pour le cas précédent, tandis que $G - (K \cup \{x, y\})$ ne l'est pas
\end{proof}

\begin{lem}
    Pour tout $v \in V$, il existe $u$ un voisin de $v$ tel que $uv$ soit sans trou
\end{lem}

\begin{proof}
    On se donne une carte complète de $G$. La preuve du lemme \ref{cycleCompl} permet d'affirmer qu'il existe des régions $u$ adjacentes à $v$
    telles que $u \cap v$ ne soit pas discret. On suppose alors par l'absurde que toutes ces régions sont telles que $u \cap v$ ne soit
    pas connexe. Mais alors, $u \cup v$ sépare $\mathbb{S}^2$ en au moins $2$ composantes connexes, et la carte étant complète les deux sont totalement
    recouvertes par des régions. Ainsi, $v$ a des voisins tels que leur intersection n'est pas discrète dans les deux composantes connexes ainsi délimitées.
    On considère alors un voisin dans l'une de ces composantes que l'on note $C$ et on réitère le processus, en choisissant à chaque fois une composante incluse dans $C$.
    On obtient ainsi une infinité de régions distinctes ce qui est absurde car le graphe est fini.
    \\~\\
    Ainsi il existe $u$ voisin de $v$ tel que $u \cap v$ soit un chemin. On montre alors qu'il existe un tel $u$ tel que $uv$ soit sans trou.
    Bon globalement faut distinguer selon si la frontière est recouverte ou pas
\end{proof}

\begin{prop}
    Soit $G$ admettant une carte complète et $xy \in E$.
    On suppose que $xy$ est représentée dans une certaine carte complète de $G$ par une adjacence en un seul point $u$.
    Si dans cette même carte, la clique formée des régions contenant $u$ (hors $x$ et $y$) est supportée par d'autres points que $u$,
    alors $G / xy$ admet une carte complète
\end{prop}

\begin{proof}
    On se donne un témoin compact quadrangulé issu de la carte complète de l'énoncé, $H$. On suppose également sans perte de généralité que le plongement
    de $H$ dans le plan donné est un plongement droit. On construit un nouveau témoin compact quandrangulé
    $H'$ comme suit : on note $K$ la clique formée des régions contenant $u$, hors $x, y$. On retire toute les arrête entre $K$ et $u$.
    $u$ devient alors de degré $2$, ayant pour seuls voisins $x$ et $y$. On place alors un sommet $u'$ arbitrairement proche de $u$, que l'on
    relie à $x$ et $y$ par des segments. Ensuite, par des arguments géométriques, tout sommet de $K$ peut être relié par un segment soit à
    $u$ soit à $u'$. On obtient alors au final un graphe planaire biparti quandrangulé $H'$. Reste à voir que $H'$ est un témoin compact de $G$.
    \\~\\
    Les seuls arrêtes de $G$ impactées par les modifications sont les arrêtes entre sommets de $K$ (celles avec $x$ et $y$ sont préservées
    comme on relie chaque sommet soit à $u$ soit à $u'$). Hors par hypothèse, la clique $K$ est portée par d'autres points de la carte distincts
    de $u$. Ainsi la suppression de certaines arrêtes de $K$ à $u$ n'a pas d'impact sur les adjacences des sommets de $K$. $H'$ est bien un témoin
    de $G$. Il est compact par sa construction comme $H$ est un témoin compact
    \\~\\
    Il est alors facile de construire un témoin compact quandrangulé de $G / xy$ comme $H'$ représente une carte où les régions $x$ et $y$
    se rencontrent en un chemin
\end{proof}

Reformuler la propriété de sans trou, et reformuler la propriété (typiquement le premier point est pas en équivalence, le deuxième si
par contre. Toutefois si le premier point échoue, alors on peut reconstruire la carte pour y enlever les trous). Sans trou est peut être
plus intelligent dans le cas spécifique des graphes de carte, si on a une non instance de toute façon on le verra quand ça devient gênant

\begin{prop}
    Soit $xy \in E$. $xy$ est une arrête à trou si et seulement si pour tout $S \subsetneq \{x, y\}$
    \begin{itemize}
        \item Soit pour $K^1, K^2$ deux cliques max de $G[N(x) \cap N(y)]$, $G - (K^1 \Delta K^2 \cup \{x,y\})$ n'est pas connexe,
        où $\Delta$ est la différence symétrique sur les sommets des deux cliques, et $G - (K^1 \Delta K^2 \cup S)$ l'est
    \end{itemize} 
    
\end{prop}

\begin{proof}
    Si $xy$ vérifie ces conditions, alors $xy$ est une arrête à trou : il existe au plus $2$ cliques $K^1, K^2$ voisines de $x$ et $y$
    telles que $G - (K^1 \cup K^2 \cup \{x,y\})$ ne soit pas connexe, tandis que pour $S \subsetneq \{x,y\}$, $G - (K^1 \cup K^2 \cup S)$
    le soit.
    \\~\\
    Si $xy$ est une arrête à trou : on se donne $K^1, K^2$ les cliques voisines de $x$ et $y$ données par la définition.
    Si l'on peut prendre $K^2$ vide :\\
    On notera alors le $K^1$ correspondant comme $K$. On se donne alors une clique max de $G[N(x) \cap N(y)]$ contenant $K$, que l'on note $K'$.
    Notons $C_1, ..., C_k$ les composantes connexe de $G - K - \{x,y\}$, $k \geq 2$. Si pour tout choix de $K'$, la propriété n'est pas
    vérifiée : alors pour tout $K'$, 
\end{proof}

\begin{lem}\label{3connCompl}
    Soit $G$ un graphe de carte $3$-connexe. Il existe un surgraphe de $G$ à un sommet de plus admettant une carte complète.
\end{lem}

\begin{proof}
    On se donne un témoin $H$ de $G$ et on note $U$ l'ensemble des sommets autres que $V$ de $H$. On peut supposer que $H$
    est construit de telle sorte à ce que $d(u) \geq 2$ pour $u \in U$. Soit $u \in U$, $x, y \in V$ parmi ses voisins.
    Si $x$ et $y$ sont adjacents à la même face de $H$, alors on ajoute une arrête entre $x$ et $y$ à l'intérieur de cette face,
    que l'on subdivise ensuite à l'aide d'un sommet afin de garder le graphe biparti. On répète alors
    ce processus jusqu'à ce que tout les sommets adjancents dans $G$ soient reliés par deux chemins de longueur $2$.
    \\~\\
    Le nouveau graphe $H'$ est planaire biparti et $2$-connexe : si l'on retire un sommet de $V$ le graphe reste clairement
    connexe comme $G$ est $3$-connexe. Si l'on retire un sommet de $U'$ (l'ensemble $U$ avec les nouveaux sommets ajoutés),
    $H$ reste aussi connexe :
    si le sommet retiré est parmi ceux de $U' \backslash U$, la construction de $U'$ donne que le graphe reste connexe. Sinon,
    on se donne $v_1, ..., v_k$ les voisins de $u$ le sommet retiré, tels que $v_i$ et $v_{i+1}$ soient adjacents à la
    même face. On a alors qu'après le retrait de $u$, par construction encore de $U'$, les $v_i$ sont tous accessibles
    entre eux. On peut alors voir que cela implique que le graphe reste connexe et est un témoin de $G$
    \\~\\
    On construit alors un surgraphe de $H'$ que l'on va plonger dans le plan. On construit le
    surgraphe $H''$ en itérant sur tout sommet $v \in V$, et en ajoutant une arrête entre chaque paire $u_1, u_2$
    voisine de $v$ adjacente à une même face, arrête prenant la forme d'un chemin dans cette face. Si $v$ est
    un sommet extérieur dans $H'$, et que l'on considère $2$ de ses voisins dans $H'$ eux aussi extérieurs,
    alors on choisira le chemin de telle sorte à ce que $v$ devienne intérieur dans $H''$.
    Ainsi tout les élements de $U'$ deviennent de degré au moins $3$. $G$ étant $3$-connexe, on peut alors voir que $H''$
    le devient également (on ne peut plus isoler de sommet de $U'$). $H''$ est également planaire et par construction,
    tout les sommets $v \in V$ sont intérieurs.
    \\~\\
    \textbf{(merde faut montrer que les adjacences restent cohérentes aussi).}
    On construit à présent la carte : pour $v \in V$, la région associée à $v$ est l'adhérence de la face dans laquelle se trouve
    le point $v$ dans $H'' - v$. Cette face est bien homéomorphe à un disque, comme $H'' - v$ est $2$-connexe et qu'alors
    cette dernière est bordée par un cycle (voir ...), le théorème de Jordan-Schönflies nous donne ce que l'on veut.
    Cet ensemble de région correspond alors à l'intérieur du cycle de $H''$
    séparant la face non bornée des autres (comme $H''$ est $2$-connexe). Ainsi, pour les mêmes raisons, la face non bornée, vue dans $\mathbb{S}^2$,
    est homéomorphe à un disque. On ajoute alors un sommet à $G$ correspondant à cette face et à ses adjacences dans cette carte.
    La carte est bien complète par construction

\end{proof}


\end{flushleft}
\end{document}